

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MCP230xx &mdash; MQTTany 0.10.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="OneWire" href="../../onewire/index.html" />
    <link rel="prev" title="I2C" href="../index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: navy" >
          

          
            <a href="../../index.html" class="icon icon-home"> MQTTany
          

          
          </a>

          
            
            
              <div class="version">
                0.10.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">MQTTany</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../launch.html">Launching</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/CrazyIvan359/mqttany/releases">Releases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/CrazyIvan359/mqttany/blob/dev/CHANGELOG.md">Change Log</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mqtt/index.html">MQTT Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../mqtt/index.html#topics">Topics</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../mqtt/index.html#relative">Relative</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mqtt/index.html#absolute">Absolute</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../mqtt/index.html#substitutions">Substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mqtt/index.html#configuration">Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gpio/index.html">GPIO Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../gpio/index.html#supported-boards">Supported Boards</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/raspi.html">Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/odroid.html">Odroid</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../gpio/index.html#substitutions">Substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../gpio/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html#module-settings">Module Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html#single-pin-definition">Single Pin Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gpio/index.html#multiple-pin-definition">Multiple Pin Definition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">I2C Module</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#devices">Devices</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">MCP230xx</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#substitutions">Substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../index.html#module-settings">Module Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#device-definition">Device Definition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../onewire/index.html">OneWire Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../onewire/index.html#devices">Devices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../onewire/devices/ds18x20.html">DS18x20</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../onewire/index.html#substitutions">Substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../onewire/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../onewire/index.html#module-settings">Module Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../onewire/index.html#single-device-definition">Single Device Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../onewire/index.html#multiple-device-definition">Multiple Device Definition</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../led/index.html">LED Module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../led/animations.html">Animations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../led/animations/built-in.html">Built-in</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../led/animations/custom.html">Custom</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../led/animations.html#triggering">Triggering</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../led/index.html#supported-interfaces">Supported Interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../led/interfaces/raspi.html">Raspberry Pi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../led/interfaces/sacn.html">Streaming ACN</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../led/index.html#substitutions">Substitutions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../led/index.html#configuration">Configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../led/index.html#module-settings">Module Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../led/index.html#array-definition">Array Definition</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MQTTany</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content style-external-links">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">I2C</a> &raquo;</li>
        
      <li>MCP230xx</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/i2c/devices/mcp230xx.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mcp230xx">
<h1>MCP230xx<a class="headerlink" href="#mcp230xx" title="Permalink to this headline">¶</a></h1>
<p>This device module supports the MCP23008 and MCP23017 I/O expander chips.</p>
<div class="section" id="substitutions">
<h2>Substitutions<a class="headerlink" href="#substitutions" title="Permalink to this headline">¶</a></h2>
<p>The following additional substitutions are available for pin topics only:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{pin}</span></code></p></td>
<td><p>will be replaced with the pin number.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{pin:02d}</span></code></p></td>
<td><p>is the same as above, but will left pad the pin
number with 0’s.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{pin_name}</span></code></p></td>
<td><p>will be replaced with the pin definition section
name.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{index}</span></code></p></td>
<td><p>will be replaced with the pin’s index in the list of
pin numbers, plus <em>first index</em>. For single pin
definitions this will be blank.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>The following additional options are added to the configuration. Optional
settings are commented out, default values are shown.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">i2c</span><span class="p">:</span>

  <span class="c1">#topic set: &#39;set&#39;</span>
  <span class="c1">#topic pulse: &#39;pulse&#39;</span>
  <span class="c1">#payload on: &#39;ON&#39;</span>
  <span class="c1">#payload off: &#39;OFF&#39;</span>

  <span class="nt">example_device</span><span class="p">:</span>
    <span class="nt">mcp230xx</span><span class="p">:</span>
      <span class="nt">pin</span><span class="p">:</span>
      <span class="c1">#topic: &#39;{pin}&#39;</span>
      <span class="c1">#direction: &#39;input&#39;</span>
      <span class="c1">#resistor: &#39;off&#39;</span>
      <span class="c1">#invert: false</span>
      <span class="c1">#initial state: &#39;{payload_off}&#39;</span>
      <span class="c1">#first index: 0</span>
</pre></div>
</div>
<div class="section" id="module-settings">
<h3>Module Settings<a class="headerlink" href="#module-settings" title="Permalink to this headline">¶</a></h3>
<p>The following additional options can be used in the module configuration
section:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span> <span class="pre">set</span></code></p></td>
<td><p>Commands to set pins configured as outputs should be
sent to the pin topic plus this topic. Default
topics result in
<code class="docutils literal notranslate"><span class="pre">{root_topic}/{module_topic}/{device_topic}/{pin}/</span>
<span class="pre">set</span></code>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">set</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span> <span class="pre">pulse</span></code></p></td>
<td><p>Messages received on a pin topic plus this topic
allow you to <em>pulse</em> a pin for a specified period of
time. Any messages to <em>pulse</em> or <em>set</em> for the pin
will cancel a running pulse timer.</p>
<p>Message payload must be one of the following:</p>
<ul class="simple">
<li><p>An integer representing the time in milliseconds to
pulse the pin. The pin will be set to the opposite
of it’s current state for the delay, then back to
it’s original state.</p></li>
<li><p>A comma separated time and state, to allow
specifying the state. State should be either
<em>payload on</em> or <em>payload off</em>. <em>Ex.</em> <code class="docutils literal notranslate"><span class="pre">500,</span> <span class="pre">ON</span></code></p></li>
<li><p>A JSON string with the time and optionally the
state. State should be either <em>payload on</em> or
<em>payload off</em>.
<em>Ex.</em> <code class="docutils literal notranslate"><span class="pre">{&quot;time&quot;:</span> <span class="pre">500,</span> <span class="pre">&quot;state&quot;:</span> <span class="pre">&quot;ON&quot;}</span></code>.</p></li>
</ul>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">pulse</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">payload</span> <span class="pre">on</span></code></p></td>
<td><p>Message content to consider as <em>On</em> (case sensitive).</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">ON</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">payload</span> <span class="pre">off</span></code></p></td>
<td><p>Message content to consider as <em>Off</em> (case
sensitive).</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">OFF</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="single-pin-definition">
<h3>Single Pin Definition<a class="headerlink" href="#single-pin-definition" title="Permalink to this headline">¶</a></h3>
<p>Pin configuration section names must be unique and are used only in logging and
for the <code class="docutils literal notranslate"><span class="pre">{pin_name}</span></code> substitution in topics. The following settings are for
single pin definitions:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pin</span></code></p></td>
<td><p>pin number.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span></code></p></td>
<td><p>Topic for the pin.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">{pin}</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">direction</span></code></p></td>
<td><p>Pin direction, can be <code class="docutils literal notranslate"><span class="pre">input</span></code> or <code class="docutils literal notranslate"><span class="pre">output</span></code>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">input</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">resistor</span></code></p></td>
<td><p>Pin pull resistor for inputs, can be <code class="docutils literal notranslate"><span class="pre">pullup</span></code>
or <code class="docutils literal notranslate"><span class="pre">off</span></code>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">off</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">invert</span></code></p></td>
<td><p>Logic invert flag, can be <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.
Setting to <code class="docutils literal notranslate"><span class="pre">true</span></code> means that logic <em>LOW = ON</em>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">initial</span> <span class="pre">state</span></code></p></td>
<td><p>Initial state to set the pin to, must be one of
<em>payload on</em> or <em>payload off</em>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">{payload_off}</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="multiple-pin-definition">
<h3>Multiple Pin Definition<a class="headerlink" href="#multiple-pin-definition" title="Permalink to this headline">¶</a></h3>
<p>It is also possible to define settings for several pins at the same time.
Settings from single pin definitions apply here also, except those shown below.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 29%" />
<col style="width: 71%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">pin</span></code></p></td>
<td><p>Instead of a single pin number you can specify a
list of pins.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">topic</span></code></p></td>
<td><p>For multiple pin definitions, topic can be a single
topic or a list of topics the same length as the
list of pins. An additional substitution <code class="docutils literal notranslate"><span class="pre">{index}</span></code>
is available when a list of pin numbers is given. It
corresponds to the pin’s index in the list plus
<em>first index</em>.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">{pin}</span></code>.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">first</span> <span class="pre">index</span></code></p></td>
<td><p>Will be added to pin number’s index in the list of
pins when subsituting <code class="docutils literal notranslate"><span class="pre">{index}</span></code> in topics. <em>Ex.</em>
to start numbering at 1, set this to 1.</p>
<p><em>Optional, default</em> <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../onewire/index.html" class="btn btn-neutral float-right" title="OneWire" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../index.html" class="btn btn-neutral float-left" title="I2C" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, MQTTany Contributors

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>

  
  
    
   

</body>
</html>